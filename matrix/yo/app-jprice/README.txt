Jon's hacky js design
