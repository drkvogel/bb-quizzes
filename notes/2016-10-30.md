
### gulp build strips out line elements!

Mon Oct 31 10:22:06 2016
svgoPlugins https://github.com/svg/svgo

```js
gulp.task('images', () => {
  return gulp.src('app/images/**/*')
    //.pipe($.cache($.imagemin({
    .pipe($.imagemin({ // don't cache
      progressive: true,
      interlaced: true
      , plugins: '[imagemin.gifsicle(), imagemin.jpegtran(), imagemin.optipng()]' // no imagemin.svgo()
      // don't remove IDs from SVGs, they are often used
      // as hooks for embedding and styling
      , svgoPlugins: [{cleanupIDs: false, removeUselessDefs: false, mergePaths: false, removeUnknownsAndDefaults: false}]
    }))
    .pipe(gulp.dest('dist/images'));
});
```

no dice.... had to scp orig svgs from app/images to oqsweb

## defer

css to stop selection doesn't work... because it's on the body, not css?
practices have "begin" and "end" text
jon re timings
    30 sec timeout whole quiz
beware: keydown handler doesn't work when focus is on svg
larger, more spaced text

markdownEditing seems to override some keyboard shortcuts, e.g. ctrl-1

    , { "keys": ["ctrl+1"] }, # etc

## done

### freaky movement

    addListeners adds listener onload - every time? no - should just once in init
    svg1 is the same (html) object throughout, but has different content loaded
    removeEventListener before?? not the svg1 load, but the group.addEventListener s inside it? shouldn't matter
    does sth different happen on click Start vs devBar Next? yes
    containerClick() is being called multiple times
        set in showPage2, which is being called multiple times
    maybe race with svg1 on load?
Start
devBar Next
    misses $('#pages').off('click',... ).. so should be even more wrong!

    function containerClick(e) {
        e.preventDefault();
        $('#pages').off('click', 'a, button, div.row div', containerClick); // prevent double-click

    function showPage2() {
        $('#pages').on('click', 'a, button, div.row div', containerClick); // prevent double-click

callback race?
use (jQuery) promises?

it's after that second getReady screen...
is it because the buttons (defined in config.json:navStart etc) are both buttons and anchors, so fire two delegated events? 
    
    $('#pages').on('click', 'a, button', containerClick); // prevent double-click

home start button was an `<a>`, hence `'a, button'` - made `<button>` and changed onclick selector to `'button'`
seems to have sorted it....

practice-b doesn't show text-

### current(num)

want var supplied to current() to be numeric
    but how do we get it from clicked el?
    do we need prefixes at all? as each svg has it's own namespace get rid-

>To remove event handlers, the function specified with the addEventListener() method must be an external, "named" function

how to pass args again?
as closures, callbacks have access to enclosing scope?

nextCircle should start at 1
svg ids should be 1-indexed-
line ids should be 1 more...
looks like event listeners do carry across svgs... (they still seem to be set on identically-name elements between different svgs)

all 4 test (all interactive)-